import{_ as H}from"./nurse.4d4e2e4c.js";import{S as O,_ as Y}from"./UserService.596b5753.js";import{_ as q,b as G,r as t,d as J,e as r,o as T,c as I,a as o,f as a,w as n,F as Q,g as W,h as m,t as x,i as X,n as V,p as Z,j as ee}from"./index.b1549961.js";const d=w=>(Z("data-v-26c5eebc"),w=w(),ee(),w),le={class:"grid"},se={class:"col-12"},ae={class:"card"},oe=d(()=>o("h5",null,"Users",-1)),te={class:"flex justify-content-between flex-column sm:flex-row"},ne={class:"p-input-icon-left mb-2"},ie=d(()=>o("i",{class:"pi pi-search"},null,-1)),de=m(" No users found. "),ue=m(" Loading users data. Please wait. "),re=d(()=>o("img",{width:"32",src:H},null,-1)),ce={class:"flex align-items-center justify-content-center"},me=d(()=>o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),ve={key:0},pe=m("Anda yakin menghapus "),_e=m("?"),fe=d(()=>o("div",{class:"text-center mb-5"},[o("img",{src:Y,alt:"Image",height:"40",class:""})],-1)),be=d(()=>o("label",{for:"name",class:"block text-900 font-medium mb-2"},"Nama",-1)),we=d(()=>o("label",{for:"email1",class:"block text-900 font-medium mb-2"},"Email",-1)),ge=d(()=>o("label",{for:"role",class:"block text-900 font-medium mb-2"},"Role",-1)),he=d(()=>o("label",{for:"password1",class:"block text-900 font-medium mb-2"},"Password",-1)),ye=d(()=>o("label",{for:"password2",class:"block text-900 font-medium mb-2"},"Confirmed Password",-1)),Ue={__name:"DataUser",setup(w){const k=G(),g=t(null),l=t({}),v=t(!1),p=t(null),h=t(!0),_=t(!1),f=t(!1),C=t(""),c=t(!1),F=t([{name:"Admin",value:"Admin"},{name:"user",value:"user"}]),D=t("user"),b=O,P=()=>{p.value={global:{value:null,matchMode:W.CONTAINS}}},B=()=>{f.value=!0,c.value=!1,C.value="New",v.value=!0,l.value={}},A=i=>{l.value=i,console.log("del",i),_.value=!0},E=()=>{console.log("akan",l.value),b.delete(l.value).then(i=>{k.add({severity:"success",summary:"User deleted",detail:"User deleted",life:3e3}),b.getUsers().then(s=>{g.value=s,h.value=!1}),_.value=!1})},R=i=>{c.value=!1,v.value=!1,C.value="Edit",l.value={...i},f.value=!0,console.log(i)},y=()=>l.value.name&&l.value.email&&l.value.password1!=null&&l.value.password2!=null&&l.value.password1==l.value.password2,$=i=>{c.value=!0,console.log(y()),y()&&(v.value&&(l.value.role=D.value,console.log("nw",l.value)),b.saveUser(l.value,v.value).then(s=>{k.add({severity:"success",summary:"User saved",detail:"User saved",life:3e3}),console.log(s),b.getUsers().then(u=>{g.value=u,h.value=!1}),f.value=!1,v.value=!1}).catch(s=>{console.log(s),k.add({severity:"error",summary:"User failed to saved",detail:"User failed to saved",life:3e3})}))};return P(),J(()=>{b.getUsers().then(i=>{g.value=i,h.value=!1})}),(i,s)=>{const u=r("Button"),N=r("InputText"),U=r("Column"),j=r("DataTable"),S=r("Dialog"),L=r("Dropdown"),M=r("Password"),z=r("Toast");return T(),I(Q,null,[o("div",le,[o("div",se,[o("div",ae,[oe,a(j,{value:g.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filters:p.value,"onUpdate:filters":s[1]||(s[1]=e=>p.value=e),filterDisplay:"menu",loading:h.value,responsiveLayout:"scroll",globalFilterFields:["name","email","role"]},{header:n(()=>[o("div",te,[a(u,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:B,ref:"open_new"},null,512),o("span",ne,[ie,a(N,{modelValue:p.value.global.value,"onUpdate:modelValue":s[0]||(s[0]=e=>p.value.global.value=e),placeholder:"Keyword Search",style:{width:"100%"}},null,8,["modelValue"])])])]),empty:n(()=>[de]),loading:n(()=>[ue]),default:n(()=>[a(U,{field:"name",header:"Name",style:{"min-width":"12rem"}},{body:n(({data:e})=>[m(x(e.name),1)]),_:1}),a(U,{field:"email",header:"Email",style:{"min-width":"12rem"}},{body:n(({data:e})=>[re,m(" "+x(e.email),1)]),_:1}),a(U,{field:"role",header:"Role",style:{"min-width":"12rem"}},{body:n(({data:e})=>[m(x(e.role),1)]),_:1}),a(U,{headerStyle:"min-width:10rem;"},{body:n(e=>[a(u,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:K=>R(e.data)},null,8,["onClick"]),a(u,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:K=>A(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])]),a(S,{visible:_.value,"onUpdate:visible":s[3]||(s[3]=e=>_.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[a(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[2]||(s[2]=e=>_.value=!1)}),a(u,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:E})]),default:n(()=>[o("div",ce,[me,l.value?(T(),I("span",ve,[pe,o("b",null,x(l.value.email),1),_e])):X("",!0)])]),_:1},8,["visible"]),a(S,{visible:f.value,"onUpdate:visible":s[9]||(s[9]=e=>f.value=e),style:{width:"450px"},header:"User Form - "+C.value,modal:!0},{default:n(()=>[fe,o("div",null,[be,a(N,{id:"name",modelValue:l.value.name,"onUpdate:modelValue":s[4]||(s[4]=e=>l.value.name=e),modelModifiers:{trim:!0},type:"text",class:V(["w-full mb-3",{"p-invalid":c.value&&!l.value.name}])},null,8,["modelValue","class"]),we,a(N,{id:"email1",modelValue:l.value.email,"onUpdate:modelValue":s[5]||(s[5]=e=>l.value.email=e),modelModifiers:{trim:!0},disabled:!v.value,type:"text",class:V(["w-full mb-3",{"p-invalid":c.value&&!l.value.email}])},null,8,["modelValue","disabled","class"]),ge,a(L,{modelValue:D.value,"onUpdate:modelValue":s[6]||(s[6]=e=>D.value=e),options:F.value,optionLabel:"name",optionValue:"value",placeholder:"Role"},null,8,["modelValue","options"]),he,a(M,{id:"password1",modelValue:l.value.password1,"onUpdate:modelValue":s[7]||(s[7]=e=>l.value.password1=e),placeholder:"Password",toggleMask:!0,class:V(["w-full mb-3",{"p-invalid":c.value&&!y()}]),inputClass:"w-full",inputStyle:"padding:1rem"},null,8,["modelValue","class"]),ye,a(M,{id:"password2",modelValue:l.value.password2,"onUpdate:modelValue":s[8]||(s[8]=e=>l.value.password2=e),placeholder:"Password",toggleMask:!0,class:V(["w-full mb-3",{"p-invalid":c.value&&!y()}]),inputClass:"w-full",inputStyle:"padding:1rem"},null,8,["modelValue","class"]),a(u,{label:"Save",icon:"pi pi-user",class:"w-full",onClick:$})])]),_:1},8,["visible","header"]),a(z)],64)}}},Ce=q(Ue,[["__scopeId","data-v-26c5eebc"]]);export{Ce as default};
