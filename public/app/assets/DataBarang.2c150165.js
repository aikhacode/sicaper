import{h as D,u as I,_ as U,F as N,r as u,o as g,c as b,a as t,e as a,w as l,g as c,t as i,i as f,n as y,p as T,f as E}from"./index.e1d22c73.js";class A{getBarangCategory(){return D(this.parseApi("/barang/category")).then(s=>s.data)}getBarangs(){let s={Accept:"application/json",Authorization:`Bearer ${I().token}`},p={url:this.parseApi("/barang"),method:"GET",headers:s};return D(p).then(S=>S.data)}parseApi(s){return`${location.protocol}//${location.hostname}/api${s}`}}const L={data(){return{products:null,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,product:{},selectedProducts:null,filters:{},submitted:!1,statuses:[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]}},productService:null,created(){this.productService=new A,this.initFilters()},mounted(){this.productService.getBarangs().then(r=>this.products=r)},methods:{formatCurrency(r){if(r)return r.toLocaleString("en-US",{style:"currency",currency:"USD"})},openNew(){this.product={},this.submitted=!1,this.productDialog=!0},hideDialog(){this.productDialog=!1,this.submitted=!1},saveProduct(){this.submitted=!0,this.product.name.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.$toast.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.productDialog=!1,this.product={})},editProduct(r){this.product={...r},this.productDialog=!0},confirmDeleteProduct(r){this.product=r,this.deleteProductDialog=!0},deleteProduct(){this.products=this.products.filter(r=>r.id!==this.product.id),this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(r){let s=-1;for(let p=0;p<this.products.length;p++)if(this.products[p].id===r){s=p;break}return s},createId(){let r="";for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",p=0;p<5;p++)r+=s.charAt(Math.floor(Math.random()*s.length));return r},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.products=this.products.filter(r=>!this.selectedProducts.includes(r)),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},initFilters(){this.filters={global:{value:null,matchMode:N.CONTAINS}}}}},d=r=>(T("data-v-5bd22645"),r=r(),E(),r),q={class:"grid"},O={class:"col-12"},M={class:"card"},z={class:"my-2"},K={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},R=d(()=>t("h5",{class:"m-0"},"Manage Barang",-1)),j={class:"block mt-2 md:mt-0 p-input-icon-left"},H=d(()=>t("i",{class:"pi pi-search"},null,-1)),Y=d(()=>t("span",{class:"p-column-title"},"ID Cat",-1)),G=d(()=>t("span",{class:"p-column-title"},"Category",-1)),Q=d(()=>t("span",{class:"p-column-title"},"ID Barang",-1)),W=d(()=>t("span",{class:"p-column-title"},"Nama Barang",-1)),J=d(()=>t("span",{class:"p-column-title"},"Kode Barang",-1)),X=d(()=>t("span",{class:"p-column-title"},"Barcode",-1)),Z=d(()=>t("span",{class:"p-column-title"},"Uraian",-1)),$=d(()=>t("span",{class:"p-column-title"},"Stok",-1)),ee=d(()=>t("span",{class:"p-column-title"},"Satuan",-1)),te=d(()=>t("span",{class:"p-column-title"},"Harga Satuan",-1)),oe=["src","alt"],se={class:"field"},ae=d(()=>t("label",{for:"name"},"Name",-1)),de={key:0,class:"p-invalid"},re={class:"field"},le=d(()=>t("label",{for:"description"},"Description",-1)),ie={class:"field"},ne=d(()=>t("label",{for:"inventoryStatus",class:"mb-3"},"Inventory Status",-1)),ce={key:0},ue={key:1},pe={key:2},me={class:"field"},he=d(()=>t("label",{class:"mb-3"},"Category",-1)),ge={class:"formgrid grid"},be={class:"field-radiobutton col-6"},_e=d(()=>t("label",{for:"category1"},"Accessories",-1)),fe={class:"field-radiobutton col-6"},ve=d(()=>t("label",{for:"category2"},"Clothing",-1)),ye={class:"field-radiobutton col-6"},Se=d(()=>t("label",{for:"category3"},"Electronics",-1)),ke={class:"field-radiobutton col-6"},Ce=d(()=>t("label",{for:"category4"},"Fitness",-1)),De={class:"formgrid grid"},we={class:"field col"},xe=d(()=>t("label",{for:"price"},"Price",-1)),Pe={class:"field col"},Ve=d(()=>t("label",{for:"quantity"},"Quantity",-1)),Fe={class:"flex align-items-center justify-content-center"},Be=d(()=>t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Ie={key:0},Ue=c("Are you sure you want to delete "),Ne=c("?"),Te={class:"flex align-items-center justify-content-center"},Ee=d(()=>t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Ae={key:0};function Le(r,s,p,S,o,h){const w=u("Toast"),m=u("Button"),x=u("Toolbar"),k=u("InputText"),n=u("Column"),P=u("DataTable"),V=u("Textarea"),F=u("Dropdown"),_=u("RadioButton"),C=u("InputNumber"),v=u("Dialog");return g(),b("div",q,[t("div",O,[t("div",M,[a(w),a(x,{class:"mb-4"},{start:l(()=>[t("div",z,[a(m,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:h.openNew},null,8,["onClick"]),a(m,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:h.confirmDeleteSelected,disabled:!o.selectedProducts||!o.selectedProducts.length},null,8,["onClick","disabled"])])]),_:1}),a(P,{ref:"dt",value:o.products,selection:o.selectedProducts,"onUpdate:selection":s[1]||(s[1]=e=>o.selectedProducts=e),dataKey:"id",paginator:!0,rows:10,filters:o.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:l(()=>[t("div",K,[R,t("span",j,[H,a(k,{modelValue:o.filters.global.value,"onUpdate:modelValue":s[0]||(s[0]=e=>o.filters.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:l(()=>[a(n,{selectionMode:"multiple",headerStyle:"width: 3rem"}),a(n,{field:"id_category",header:"ID Cat",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(e=>[Y,c(" "+i(e.data.id_category),1)]),_:1}),a(n,{field:"category",header:"Category",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(e=>[G,c(" "+i(e.data.category),1)]),_:1}),a(n,{field:"id_barang",header:"ID Barang",sortable:!0,headerStyle:"width:14%; min-width:8rem;"},{body:l(e=>[Q,c(" "+i(e.data.id_barang),1)]),_:1}),a(n,{field:"nama_barang",header:"Nama Barang",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(e=>[W,c(" "+i(e.data.nama_barang),1)]),_:1}),a(n,{field:"code_barang",header:"Kode Barang",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(e=>[J,c(" "+i(e.data.code_barang),1)]),_:1}),a(n,{field:"barcode",header:"Barcode",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(e=>[X,c(" "+i(e.data.barcode),1)]),_:1}),a(n,{field:"uraian",header:"Uraian",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(e=>[Z,c(" "+i(e.data.uraian),1)]),_:1}),a(n,{field:"stok",header:"Stok",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(e=>[$,c(" "+i(e.data.stok),1)]),_:1}),a(n,{field:"satuan",header:"Satuan",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(e=>[ee,c(" "+i(e.data.satuan),1)]),_:1}),a(n,{field:"harga_satuan",header:"Harga Satuan",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(e=>[te,c(" "+i(h.formatCurrency(e.data.harga_satuan)),1)]),_:1}),a(n,{headerStyle:"min-width:10rem;"},{body:l(e=>[a(m,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:B=>h.editProduct(e.data)},null,8,["onClick"]),a(m,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:B=>h.confirmDeleteProduct(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),a(v,{visible:o.productDialog,"onUpdate:visible":s[11]||(s[11]=e=>o.productDialog=e),style:{width:"450px"},header:"Product Details",modal:!0,class:"p-fluid"},{footer:l(()=>[a(m,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:h.hideDialog},null,8,["onClick"]),a(m,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:h.saveProduct},null,8,["onClick"])]),default:l(()=>[o.product.image?(g(),b("img",{key:0,src:"images/product/"+o.product.image,alt:o.product.image,width:"150",class:"mt-0 mx-auto mb-5 block shadow-2"},null,8,oe)):f("",!0),t("div",se,[ae,a(k,{id:"name",modelValue:o.product.name,"onUpdate:modelValue":s[2]||(s[2]=e=>o.product.name=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:y({"p-invalid":o.submitted&&!o.product.name})},null,8,["modelValue","class"]),o.submitted&&!o.product.name?(g(),b("small",de,"Name is required.")):f("",!0)]),t("div",re,[le,a(V,{id:"description",modelValue:o.product.description,"onUpdate:modelValue":s[3]||(s[3]=e=>o.product.description=e),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),t("div",ie,[ne,a(F,{id:"inventoryStatus",modelValue:o.product.inventoryStatus,"onUpdate:modelValue":s[4]||(s[4]=e=>o.product.inventoryStatus=e),options:o.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:l(e=>[e.value&&e.value.value?(g(),b("div",ce,[t("span",{class:y("product-badge status-"+e.value.value)},i(e.value.label),3)])):e.value&&!e.value.value?(g(),b("div",ue,[t("span",{class:y("product-badge status-"+e.value.toLowerCase())},i(e.value),3)])):(g(),b("span",pe,i(e.placeholder),1))]),_:1},8,["modelValue","options"])]),t("div",me,[he,t("div",ge,[t("div",be,[a(_,{id:"category1",name:"category",value:"Accessories",modelValue:o.product.category,"onUpdate:modelValue":s[5]||(s[5]=e=>o.product.category=e)},null,8,["modelValue"]),_e]),t("div",fe,[a(_,{id:"category2",name:"category",value:"Clothing",modelValue:o.product.category,"onUpdate:modelValue":s[6]||(s[6]=e=>o.product.category=e)},null,8,["modelValue"]),ve]),t("div",ye,[a(_,{id:"category3",name:"category",value:"Electronics",modelValue:o.product.category,"onUpdate:modelValue":s[7]||(s[7]=e=>o.product.category=e)},null,8,["modelValue"]),Se]),t("div",ke,[a(_,{id:"category4",name:"category",value:"Fitness",modelValue:o.product.category,"onUpdate:modelValue":s[8]||(s[8]=e=>o.product.category=e)},null,8,["modelValue"]),Ce])])]),t("div",De,[t("div",we,[xe,a(C,{id:"price",modelValue:o.product.price,"onUpdate:modelValue":s[9]||(s[9]=e=>o.product.price=e),mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue"])]),t("div",Pe,[Ve,a(C,{id:"quantity",modelValue:o.product.quantity,"onUpdate:modelValue":s[10]||(s[10]=e=>o.product.quantity=e),integeronly:""},null,8,["modelValue"])])])]),_:1},8,["visible"]),a(v,{visible:o.deleteProductDialog,"onUpdate:visible":s[13]||(s[13]=e=>o.deleteProductDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:l(()=>[a(m,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[12]||(s[12]=e=>o.deleteProductDialog=!1)}),a(m,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:h.deleteProduct},null,8,["onClick"])]),default:l(()=>[t("div",Fe,[Be,o.product?(g(),b("span",Ie,[Ue,t("b",null,i(o.product.name),1),Ne])):f("",!0)])]),_:1},8,["visible"]),a(v,{visible:o.deleteProductsDialog,"onUpdate:visible":s[15]||(s[15]=e=>o.deleteProductsDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:l(()=>[a(m,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[14]||(s[14]=e=>o.deleteProductsDialog=!1)}),a(m,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:h.deleteSelectedProducts},null,8,["onClick"])]),default:l(()=>[t("div",Te,[Ee,o.product?(g(),b("span",Ae,"Are you sure you want to delete the selected products?")):f("",!0)])]),_:1},8,["visible"])])])])}var Oe=U(L,[["render",Le],["__scopeId","data-v-5bd22645"]]);export{Oe as default};
